{% extends 'base.html' %} 
{% load static %} 

{% block title %} 
Order Detail
{% endblock%} 

{% block content %}
<div class="container">
    <div class="text-center">
        <br>
        <h1 class="text-center product_title">
            Order Details
        </h1>
        <br>
        <table class="table table-bordered">
            <tr>
                <td class="text-left" colspan="2">
                    <b>Order:</b> #{{ order.id }} <br>
                    <b>Date: </b> #{{ order.created|date:"d M Y" }} <br>
                    <b>Order Total:</b> #{{ order.total }} <br>
                    <b>Order Status:</b><i class="fas fa-check"></i> Complete.<br>    
                </td>
                <td class="text-left" colspan="2">
                    <b>Billing Address: </b> <br>
                    {{ order.billingName }} <br>
                    {{ order.billingAddress1 }} <br>
                    {{ order.billingCity }} <br>
                    {{ order.billingPostCode }} <br>
                    {{ order.billingCountry }} <br>
                </td>
            </tr>
            <tr>
                <td><b>Product Description</b></td>
                <td><b>Qty</b></td>
                <td><b>Unit Price</b></td>
                <td><b>Sub-Total</b></td>
            </tr>
            {% for item in order_items %}
                <tr>
                    <td>{{ item.product }}</td>
                    <td>{{ item.quantity }}</td>
                    <td>$ {{ item.price }}</td>
                    <td>$ {{ item.sub_total }}</td>
                </tr> 
            {% endfor %}
            <tr>
                <td class="text-right" colspan="3">Total</td>
                <td>$ {{ order.total }}</td>
            </tr>
            <tr>
                <td class="text-right" colspan="3">Total Paid</td>
                <td>$ {{ order.total }}</td>
            </tr>
            <tr>
                <td class="text-left" colspan="2"><b>Shipping Address:</b><br>
                {{ order.shippingName }}
                {{ order.shippingAddress1 }}
                {{ order.shippingCity }}
                {{ order.shippingPostcode }}
                {{ order.shippingCountry }}
                </td>
                <td class="text-left" colspan="2">
                    <b>Payment Details:</b> <br>
                    The order #{{ order.id }} has been paid successfully
                </td>
            </tr>
        </table>
        <button class="btn btn-secondary" onclick="window.print();">
            <i class="fas fa-print"></i>
            Print Order
        </button>
    </div>
</div>
<br><br>
{% endblock %}